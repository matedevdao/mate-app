{"version":3,"file":"validate.js","sourceRoot":"","sources":["../../src/auth/validate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,6BAA6B,CAAC;AAI3D,MAAM,CAAC,KAAK,UAAU,aAAa;IACjC,MAAM,KAAK,GAAG,YAAY,CAAC,QAAQ,EAAE,CAAC;IACtC,IAAI,CAAC,KAAK;QAAE,OAAO,KAAK,CAAC;IAEzB,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,OAAO,iBAAiB,EAAE;QACnD,OAAO,EAAE,EAAE,aAAa,EAAE,UAAU,KAAK,EAAE,EAAE;KAC9C,CAAC,CAAC;IAEH,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;QACZ,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,OAAO,KAAK,CAAC;IACf,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import { tokenManager } from \"@gaiaprotocol/client-common\";\n\ndeclare const API_URI: string;\n\nexport async function validateToken(): Promise<boolean> {\n  const token = tokenManager.getToken();\n  if (!token) return false;\n\n  const res = await fetch(`${API_URI}/validate-token`, {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\n  if (!res.ok) {\n    tokenManager.clear();\n    return false;\n  }\n\n  return true;\n}\n"]}